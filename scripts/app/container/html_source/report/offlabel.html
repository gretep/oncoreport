<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Oncoreport Clinical Mutation Report - Off-label Drugs</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    </head>

    <body class="bg-light">

        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
            </symbol>
            <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
            </symbol>
            <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </symbol>
        </svg>

        <header class="navbar navbar-expand-lg sticky-top navbar-dark bg-dark">
            <nav class="container-fluid flex-wrap">
                <a class="navbar-brand" href="index.html">Mutation Report</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main-navigation"
                        aria-controls="main-navigation" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse flex-grow-0" id="main-navigation">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="therapeutic.html">Therapeutic indications</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="drugdrug.html">Drug-Drug Interactions</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="drugfood.html">Drug-Food interactions</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="esmoguide.html">
                                <span style="color: hsl(113, 50%, 43.75%)">E</span>
                                <span style="color: hsl(323, 100%, 50%)">S</span>
                                <span style="color: hsl(64, 62.89%, 50%)">M</span>
                                <span style="color: hsl(222, 100%, 50%)">O</span> guidelines
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle active" data-bs-toggle="dropdown" href="#" role="button"
                               aria-haspopup="true" aria-expanded="false">Other details</a>
                            <div class="dropdown-menu  dropdown-menu-end">
                                <a class="dropdown-item" href="pharmgkb.html">Drug response</a>
                                <a class="dropdown-item" href="mutations.html">Mutations annotations</a>
                                <a class="dropdown-item active" href="offlabel.html">
                                    Off-label indications
                                    <span class="visually-hidden">(current)</span>
                                </a>
                                <a class="dropdown-item" href="cosmic.html">Known drug resistance</a>
                                <a class="dropdown-item" href="reference.html">References</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <header class="py-3 border-bottom">
            <div class="container-fluid pt-md-1 pb-md-4">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card bg-secondary" style="max-width: 100%;">
                            <div class="card-header">Patient details</div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-4 card-text">
                                        Surname: <%=pt_surname %><br>
                                        Name: <%=pt_name %><br>
                                        Sex: <%=pt_sex %>
                                    </div>
                                    <div class="col-4 card-text">
                                        Age: <%=pt_age %><br>
                                        City: <%=ifelse(is.null(pt_city), "Not Available", pt_city) %><br>
                                        Phone: <%=ifelse(is.null(pt_phone), "Not Available", pt_phone) %><br>
                                    </div>
                                    <div class="col-4 card-text">
                                        Sample Name: <%=pt_sample_name %><br>
                                        Disease: <%=pt_disease_name %><br>
                                        Stage: <%=ifelse(is.null(pt_tumor_stage), "Not Available", pt_tumor_stage) %>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main class="order-1 py-5" id="content">
            <div class="container-fluid">

                <h1 class="mt-0">Off-label drugs</h1>

                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="variants-summary-tab" data-bs-toggle="tab"
                                data-bs-target="#variants-summary" type="button" role="tab"
                                aria-controls="variants-summary" aria-selected="true">
                            Variants Summary
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="clinical-evidence-tab" data-bs-toggle="tab"
                                data-bs-target="#clinical-evidence" type="button" role="tab"
                                aria-controls="clinical-evidence" aria-selected="false">
                            Clinical Evidence Details
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="variant-details-tab" data-bs-toggle="tab"
                                data-bs-target="#variant-details" type="button" role="tab"
                                aria-controls="variant-details" aria-selected="false">
                            Variants Details
                        </button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active p-3" id="variants-summary" role="tabpanel"
                         aria-labelledby="variants-summary-tab">
                        <div class="table-responsive" data-search-table-container>
                            <div class="mb-2 d-flex flex-row-reverse justify-content-between align-items-center">
                                <div class="position-relative">
                                    <span class="position-absolute" style="top: 0.50rem; left: 1rem;">
                                        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img"
                                             aria-label="Search">
                                            <use xlink:href="#search-icon"/>
                                        </svg>
                                    </span>
                                    <input class="form-control w-100" style="padding-left: 2.75rem;"
                                           placeholder="Enter a text to search the table..."
                                           aria-label="Enter a text to search the table" data-search-input>
                                </div>
                            </div>
                            <%
                            if (!is.null(offlabel$summary)) {
                            cat(offlabel$summary)
                            } else {
                            cat("<h5>No data available.</h5>")
                            }
                            %>
                        </div>
                    </div>
                    <div class="tab-pane fade p-3" id="clinical-evidence" role="tabpanel"
                         aria-labelledby="clinical-evidence-tab">
                        <div class="table-responsive">
                            <%
                            if (!is.null(offlabel$evidences)) {
                            cat(offlabel$evidences)
                            } else {
                            cat("<h5>No data available.</h5>")
                            }
                            %>
                        </div>
                    </div>
                    <div class="tab-pane fade p-3" id="variant-details" role="tabpanel"
                         aria-labelledby="variant-details-tab">
                        <div class="table-responsive">
                            <%
                            if (!is.null(offlabel$details)) {
                            cat(offlabel$details)
                            } else {
                            cat("<h5>No data available.</h5>")
                            }
                            %>
                        </div>
                    </div>
                </div>

                <div class="alert alert-warning d-flex align-items-center" role="alert">
                    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:">
                        <use xlink:href="#exclamation-triangle-fill"/>
                    </svg>
                    <div>
                        <b>Warning</b>: This is a clinical decision support system. Always consult with a healthcare
                        professional.
                    </div>
                </div>
            </div>
        </main>

        <footer class="container py-5">
            <div class="row">
                <div class="col-12">
                    <small class="d-block mb-3 text-muted">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
                             stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="d-inline mb-2"
                             role="img"
                             viewBox="0 0 24 24"><title>Product</title>
                            <g transform="translate(-82.78836,-130.00338)">
                                <path
                                        d="m 95.67419,142.61651 a 27.864187,22.525275 0 0 0 2.622087,-1.20142 q -0.834986,-0.39609 -1.720999,-0.75374 c -2.307235,-0.92953 -4.274665,-2.06859 -5.846065,-3.38578 a 16.488079,13.328884 0 0 1 -2.55367,-2.77218 h 18.737327 v -3.04687 H 86.707943 c -0.08988,-0.31312 -0.147861,-0.5864 -0.190193,-0.8086 a 0.92776251,0.74999877 0 0 0 -0.924863,-0.64453 l -1.871178,0.007 a 0.92776251,0.74999877 0 0 0 -0.923706,0.84187 c 0.135682,0.88219 0.50157,2.37563 1.487317,4.09594 a 19.868034,16.061224 0 0 0 3.653065,4.31249 c 1.776668,1.51077 3.962705,2.81671 6.502458,3.8864 q 0.590287,-0.27 1.233347,-0.53016 z m 13.08666,10.5431 c -0.13626,-0.88312 -0.50505,-2.3775 -1.49717,-4.09828 a 19.877311,16.068725 0 0 0 -3.67915,-4.31812 22.217592,17.960596 0 0 0 -1.73957,-1.31812 29.903524,24.173866 0 0 1 -3.390382,1.66922 q 0.494603,0.29765 0.95733,0.61218 H 88.357617 v 2.25001 h 13.725663 a 15.776601,12.753729 0 0 1 1.69839,2.22514 13.812064,11.165607 0 0 1 1.23334,3.17672 0.93414085,0.75515502 0 0 0 0.92371,0.645 h 1.89496 a 0.92776251,0.74999877 0 0 0 0.92717,-0.84375 z"
                                        style="mix-blend-mode:normal;fill:#0d6efd;fill-opacity:1;stroke-width:0.052135"/>
                                <path
                                        d="m 108.76062,130.84715 c -0.13627,0.88312 -0.50331,2.37749 -1.49136,4.09874 a 19.874847,16.066848 0 0 1 -3.66231,4.31578 c -1.89089,1.60452 -4.243322,2.97842 -6.992388,4.08327 -4.521648,1.81734 -7.031235,4.14281 -8.425186,6.15842 h 15.154314 q 0.23194,0.33469 0.43604,0.67829 a 14.336145,11.589356 0 0 1 1.02807,2.32171 H 86.72584 c -0.09799,0.33281 -0.161772,0.62109 -0.202357,0.85359 a 0.93123485,0.7528113 0 0 1 -0.923699,0.64641 h -1.87639 a 0.92775566,0.74999876 0 0 1 -0.927753,-0.84375 c 0.136261,-0.88312 0.503308,-2.3775 1.491372,-4.09874 a 19.874847,16.066848 0 0 1 3.664055,-4.31578 c 1.890872,-1.60453 4.243314,-2.97844 6.992374,-4.08327 1.867697,-0.75 3.391537,-1.58859 4.635878,-2.45531 h -7.630792 q -0.644782,-0.44906 -1.217684,-0.93094 a 17.105496,13.828102 0 0 1 -1.38815,-1.31906 h 12.855216 c 2.05208,-2.21062 2.65803,-4.29139 2.83662,-5.30671 a 0.93123485,0.7528113 0 0 1 0.92369,-0.6464 h 1.87639 a 0.92775566,0.74999876 0 0 1 0.92601,0.84375 z"
                                        style="fill:#a8cbfe;stroke-width:0.0521347"/>
                            </g>
                        </svg>
                        Report created by Oncoreport
                    </small>
                </div>
            </div>
        </footer>

        <script src="assets/js/bootstrap.bundle.min.js"></script>
        <script>
            (function () {
                'use strict';
                const clinicalEvidencePane = document.getElementById('clinical-evidence');
                const clinicalEvidenceTab = document.querySelector('button[data-bs-target="#clinical-evidence"]');
                const clinicalEvidenceTabObject = new bootstrap.Tab(clinicalEvidenceTab);
                const variantsSummaryPane = document.getElementById('variants-summary');
                const variantsSummaryTab = document.querySelector('button[data-bs-target="#variants-summary"]');
                const variantsSummaryTabObject = new bootstrap.Tab(variantsSummaryTab);

                document.querySelectorAll('a.evidence-details-link').forEach((link) => {
                    link.addEventListener('click', (event) => {
                        event.preventDefault();
                        const id = link.dataset.id;
                        if (id) {
                            const evidenceDetail = document.querySelector(id);
                            if (evidenceDetail) {
                                clinicalEvidencePane.querySelectorAll('tr.table-success').
                                                     forEach((tr) => tr.classList.remove('table-success'));
                                const listener = () => {
                                    const trObject = evidenceDetail.closest('tr');
                                    trObject.classList.add('table-success');
                                    setTimeout(() => trObject.classList.remove('table-success'), 2000);
                                    window.scrollTo({
                                        behavior: 'smooth',
                                        left: 0,
                                        top: trObject.offsetTop,
                                    });
                                    clinicalEvidenceTab.removeEventListener('shown.bs.tab', listener);
                                };
                                clinicalEvidenceTab.addEventListener('shown.bs.tab', listener);
                                clinicalEvidenceTabObject.show();
                            }
                        }
                    });
                });

                document.querySelectorAll('a.evidence-summary-link').forEach((link) => {
                    link.addEventListener('click', (event) => {
                        event.preventDefault();
                        const id = link.dataset.id;
                        if (id) {
                            const summary = document.querySelector(id);
                            if (summary) {
                                variantsSummaryPane.querySelectorAll('tr.table-success').
                                                    forEach((tr) => tr.classList.remove('table-success'));
                                const listener = () => {
                                    const trObject = summary.closest('tr');
                                    trObject.classList.add('table-success');
                                    setTimeout(() => trObject.classList.remove('table-success'), 2000);
                                    window.scrollTo({
                                        behavior: 'smooth',
                                        left: 0,
                                        top: trObject.offsetTop,
                                    });
                                    variantsSummaryTab.removeEventListener('shown.bs.tab', listener);
                                };
                                variantsSummaryTab.addEventListener('shown.bs.tab', listener);
                                variantsSummaryTabObject.show();
                            }
                        }
                    });
                });

                document.querySelectorAll('a.ref-link').forEach(function (link) {
                    link.addEventListener('click', function (event) {
                        event.preventDefault();
                        const id = link.dataset.id;
                        location.href = 'reference.html' + (id.startsWith('#') ? '' : '#') + id;
                    });
                });
            })();
        </script>
        <script src="assets/js/searchable.js"></script>
    </body>
</html>
